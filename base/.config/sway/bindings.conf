# Custom keybindings ported from your old config
# Note: $mod is set to Alt (Mod1) in the main config file

# Screenshot with editing
bindsym --release F10 exec grim -g "$(slurp)" - | swappy -f - -o - | wl-copy

# Dropdown terminal scratchpad
bindsym $mod+u exec swaymsg '[title="dropdown-terminal"] scratchpad show; \
    [title="dropdown-terminal"] resize set 800 800; \
    [title="dropdown-terminal"] move position center'

bindsym $mod+Shift+u exec --no-startup-id kitty --title=dropdown-terminal

# Obsidian scratchpad
bindsym $mod+o exec swaymsg '[app_id="obsidian"] scratchpad show; \
    [app_id="obsidian"] resize set 47ppt 96ppt; \
    [app_id="obsidian"] move position 51ppt 2ppt;'

# Pavucontrol scratchpad
bindsym $mod+i exec swaymsg '\
    [app_id="org.pulseaudio.pavucontrol"] scratchpad show; \
    [app_id="org.pulseaudio.pavucontrol"] resize set 70ppt 70ppt; \
    [app_id="org.pulseaudio.pavucontrol"] move position center'

# Wallpaper script
# Note: Conflicts with Omarchy's $mod+w (kill window), so using different key
bindsym $mod+Shift+w exec --no-startup-id $HOME/.bin/wallpaper

# Workspace back and forth
bindsym $mod+q workspace back_and_forth

# Volume control (Alt+F2/F3)
bindsym $mod+F2 exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym $mod+F3 exec --no-startup-id pactl set-sink-volume 0 +5%

# Media control (Alt+F4/F5/F6)
bindsym $mod+F4 exec --no-startup-id playerctl previous
bindsym $mod+F5 exec --no-startup-id playerctl play-pause
bindsym $mod+F6 exec --no-startup-id playerctl next

# Display enable/disable (Alt+F7/F8)
bindsym $mod+F7 exec --no-startup-id swaymsg output eDP-1 disable
bindsym $mod+F8 exec --no-startup-id swaymsg output eDP-1 enable

# Brightness (Alt+F11)
set $brightnessUpCmd /usr/bin/brightnessctl set 5%- 2&>1 > /tmp/brightness
set $brightnessDownCmd /usr/bin/brightnessctl set +5%
bindsym $mod+F11 exec $brightnessUpCmd
bindsym $mod+Shift+F11 exec $brightnessDownCmd

# Lock screen
bindsym $mod+z exec --no-startup-id swaylock -c 333333

# Notification center toggle (if using swaync)
bindsym $mod+n exec --no-startup-id swaync-client -t -sw

# Float and resize window
bindsym --to-code $mod+m floating enable; resize set 40ppt 40ppt; move position 30ppt 0

# Move workspace between outputs
bindsym $mod+Ctrl+Left move workspace to output left
bindsym $mod+Ctrl+Right move workspace to output right

# Split orientation (already defined in Omarchy defaults)
# bindsym $mod+Shift+g split h
# bindsym $mod+v split v

# Toggle layout (already defined in Omarchy defaults)
# bindsym $mod+e layout toggle split

# Focus parent/child (already defined in Omarchy defaults)
# bindsym $mod+a focus parent

# Override Omarchy workspace bindings to fix comment issue
# First unbind the keys to avoid redefinition warnings
unbindsym $mod+1
unbindsym $mod+2
unbindsym $mod+3
unbindsym $mod+4
unbindsym $mod+5
unbindsym $mod+6
unbindsym $mod+7
unbindsym $mod+8
unbindsym $mod+9
unbindsym $mod+0
unbindsym $mod+Shift+1
unbindsym $mod+Shift+2
unbindsym $mod+Shift+3
unbindsym $mod+Shift+4
unbindsym $mod+Shift+5
unbindsym $mod+Shift+6
unbindsym $mod+Shift+7
unbindsym $mod+Shift+8
unbindsym $mod+Shift+9
unbindsym $mod+Shift+0

# Now rebind with correct workspace names (without comments)
# Switch workspaces with $mod + [1-9,0]
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move active window to workspace with $mod + Shift + [1-9,0]
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Gaps mode toggle
set $mode_gaps Toggle gaps: (1)OFF (2)NORMAL (3)HUGE
mode "$mode_gaps" {
  bindsym 1 mode "default", gaps inner all set 0, gaps outer all set 0
  bindsym 2 mode "default", gaps inner all set 12, gaps outer all set 12
  bindsym 3 mode "default", gaps inner all set 100, gaps outer all set 10
  bindsym Return mode "default"
  bindsym Escape mode "default"
}
bindsym $mod+g mode "$mode_gaps"
