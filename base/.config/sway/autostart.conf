# Custom autostart programs ported from your old config

# IMPORTANT: Update environment variables for all child processes
# This ensures SWAYSOCK is correct for all applications
exec systemctl --user import-environment SWAYSOCK WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd SWAYSOCK WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# Startup script
exec ~/.config/sway/scripts/startup

# Black background (will be replaced by wallpaper script)
exec swaybg --color=#000000

# Dropdown terminal (for scratchpad)
exec --no-startup-id kitty --title=dropdown-terminal

# Obsidian (will move to scratchpad via window rules)
exec --no-startup-id obsidian
# Fallback for Flatpak version
exec --no-startup-id flatpak run md.obsidian.Obsidian
